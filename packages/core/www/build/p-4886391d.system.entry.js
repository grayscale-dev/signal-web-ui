var __assign=this&&this.__assign||function(){__assign=Object.assign||function(t){for(var e,a=1,r=arguments.length;a<r;a++){e=arguments[a];for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i))t[i]=e[i]}return t};return __assign.apply(this,arguments)};var __spreadArray=this&&this.__spreadArray||function(t,e,a){if(a||arguments.length===2)for(var r=0,i=e.length,n;r<i;r++){if(n||!(r in e)){if(!n)n=Array.prototype.slice.call(e,0,r);n[r]=e[r]}}return t.concat(n||Array.prototype.slice.call(e))};System.register(["./p-LG5q5gSI.system.js"],(function(t){"use strict";var e,a,r;return{setters:[function(t){e=t.r;a=t.c;r=t.h}],execute:function(){var i=function(){return':host{--signal-table-border:var(--signal-border, #e5e7eb);--signal-table-surface:var(--signal-surface, #ffffff);--signal-table-muted:var(--signal-muted, #f3f4f6);--signal-table-text:var(--signal-text, #111827);--signal-table-subtle:var(--signal-subtle, #6b7280);--signal-table-radius:12px;--signal-table-shadow:0 8px 20px rgba(17, 24, 39, 0.06);--signal-accent:var(--signal-accent, #2563eb)}.root{border:1px solid var(--signal-table-border);border-radius:var(--signal-table-radius);background:var(--signal-table-surface);-webkit-box-shadow:var(--signal-table-shadow);box-shadow:var(--signal-table-shadow);overflow:hidden}.caption{padding:12px 16px;font-size:0.95rem;font-weight:600;color:var(--signal-table-text)}.toolbar{display:-ms-flexbox;display:flex;-ms-flex-wrap:wrap;flex-wrap:wrap;-ms-flex-align:center;align-items:center;gap:12px;padding:12px 16px;border-bottom:1px solid var(--signal-table-border);background:var(--signal-table-muted)}.search{-ms-flex:1 1 220px;flex:1 1 220px;min-width:180px;padding:8px 10px;border:1px solid var(--signal-table-border);border-radius:8px;background:#fff}.filters{display:-ms-flexbox;display:flex;gap:12px;-ms-flex-wrap:wrap;flex-wrap:wrap}.filter{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;gap:6px}.filter-label{font-size:0.85rem;color:var(--signal-table-subtle)}.filter-select{padding:6px 8px;border:1px solid var(--signal-table-border);border-radius:8px;background:#fff}.table-wrapper{overflow:auto}.table{width:100%;border-collapse:collapse;text-align:left;color:var(--signal-table-text);font-size:0.9375rem}.head th{background:var(--signal-table-muted);color:var(--signal-table-subtle);font-weight:600;letter-spacing:0.04em;text-transform:uppercase;padding:12px 16px;border-bottom:1px solid var(--signal-table-border);-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.header-content{display:-ms-inline-flexbox;display:inline-flex;-ms-flex-align:center;align-items:center;gap:6px}.sortable{cursor:pointer}.sort-indicator{font-size:0.75rem;color:var(--signal-table-subtle)}.body .row{border-top:1px solid var(--signal-table-border);-webkit-transition:background-color 120ms ease;transition:background-color 120ms ease}.body .row:hover{background:var(--signal-table-muted);cursor:pointer}.cell{padding:12px 16px;vertical-align:middle;color:var(--signal-table-text)}.align-center{text-align:center}.align-right{text-align:right}.selection-col{width:44px;text-align:center}.actions-col{width:60px;text-align:right}.checkbox{display:-ms-inline-flexbox;display:inline-flex;-ms-flex-align:center;align-items:center;gap:6px;font-size:0.9rem;color:var(--signal-table-text)}.empty{text-align:center;color:var(--signal-table-subtle);padding:18px 16px}.pagination{display:-ms-flexbox;display:flex;-ms-flex-pack:justify;justify-content:space-between;-ms-flex-align:center;align-items:center;padding:12px 16px;border-top:1px solid var(--signal-table-border);background:var(--signal-table-muted)}.pagination-meta{color:var(--signal-table-subtle);font-size:0.9rem}.pagination-actions{display:-ms-flexbox;display:flex;gap:8px}.button{padding:8px 12px;border:1px solid var(--signal-table-border);border-radius:8px;background:#fff;cursor:pointer}.button:disabled{opacity:0.5;cursor:not-allowed}.row.selected{background:rgba(37, 99, 235, 0.06)}[data-loading="true"]{opacity:0.7;pointer-events:none}'};var n=t("signal_feature_table",function(){function t(t){var r=this;e(this,t);this.rowClick=a(this,"rowClick");this.selectionChanged=a(this,"selectionChanged");this.sortChange=a(this,"sortChange");this.filterChange=a(this,"filterChange");this.searchChange=a(this,"searchChange");this.pageChange=a(this,"pageChange");this.columns=[];this.rows=[];this.searchable=false;this.filterable=false;this.selectable=false;this.selectedKeys=[];this.emptyText="No results";this.filters=[];this.loading=false;this.searchQuery="";this.internalFilters={};this.internalSelection={};this.handleSearch=function(t){var e=t.target.value;r.searchQuery=e;r.searchChange.emit({query:e})};this.handleFilterChange=function(t,e){var a;r.internalFilters=__assign(__assign({},r.internalFilters),(a={},a[t]=e,a));r.filterChange.emit({filters:r.internalFilters})}}t.prototype.componentWillLoad=function(){this.internalFilters=this.filters.reduce((function(t,e){if(e.value)t[e.key]=e.value;return t}),{});this.internalSelection=this.selectedKeys.reduce((function(t,e){t[e]=true;return t}),{})};t.prototype.getRowId=function(t,e){if(typeof this.rowKey==="function")return this.rowKey(t);if(typeof this.rowKey==="string"&&t[this.rowKey]!=null)return String(t[this.rowKey]);return String(e)};t.prototype.handleSort=function(t){if(!t.sortable)return;var e=this.internalSort&&this.internalSort.key===t.key?this.internalSort.direction==="asc"?{key:t.key,direction:"desc"}:undefined:{key:t.key,direction:"asc"};this.internalSort=e;this.sortChange.emit({sort:e})};t.prototype.toggleRowSelection=function(t){var e=__assign({},this.internalSelection);e[t]=!e[t];this.internalSelection=e;var a=Object.keys(e).filter((function(t){return e[t]}));this.selectionChanged.emit({keys:a})};t.prototype.toggleAllSelection=function(t){var e=this;var a=t.every((function(t,a){return e.internalSelection[e.getRowId(t,a)]}));var r={};if(!a){t.forEach((function(t,a){r[e.getRowId(t,a)]=true}))}this.internalSelection=r;var i=Object.keys(r).filter((function(t){return r[t]}));this.selectionChanged.emit({keys:i})};t.prototype.changePage=function(t){if(!this.pagination)return;var e=Math.max(0,this.pagination.pageIndex+t);this.pageChange.emit({pageIndex:e,pageSize:this.pagination.pageSize})};Object.defineProperty(t.prototype,"filteredRows",{get:function(){var t=this;var e=__spreadArray([],this.rows,true);if(this.searchable&&this.searchQuery){var a=this.searchQuery.toLowerCase();e=e.filter((function(e){return t.columns.some((function(t){var r;return String((r=e[t.key])!==null&&r!==void 0?r:"").toLowerCase().includes(a)}))}))}if(this.filterable){e=e.filter((function(e){return Object.entries(t.internalFilters).every((function(t){var a;var r=t[0],i=t[1];if(!i)return true;return String((a=e[r])!==null&&a!==void 0?a:"")===i}))}))}if(this.internalSort){var r=this.internalSort,i=r.key,n=r.direction;e=__spreadArray([],e,true).sort((function(t,e){var a=t[i];var r=e[i];if(a==null&&r==null)return 0;if(a==null)return 1;if(r==null)return-1;if(a===r)return 0;return n==="asc"?a>r?1:-1:a<r?1:-1}))}return e},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"pagedRows",{get:function(){if(!this.pagination)return this.filteredRows;var t=this.pagination.pageIndex*this.pagination.pageSize;var e=t+this.pagination.pageSize;return this.filteredRows.slice(t,e)},enumerable:false,configurable:true});t.prototype.renderToolbar=function(t){var e=this;if(!this.searchable&&!this.filterable&&!this.selectable)return null;return r("div",{part:"toolbar",class:"toolbar"},this.selectable&&r("label",{class:"checkbox"},r("input",{type:"checkbox",checked:t.length>0&&t.every((function(t,a){return e.internalSelection[e.getRowId(t,a)]})),onChange:function(){return e.toggleAllSelection(t)}}),r("span",null,"Select all")),this.searchable&&r("input",{part:"search",class:"search",type:"search",placeholder:"Search…",value:this.searchQuery,onInput:this.handleSearch}),this.filterable&&r("div",{class:"filters"},this.filters.map((function(t){return r("label",{class:"filter",key:t.key},r("span",{class:"filter-label"},t.label),r("select",{class:"filter-select",onInput:function(a){return e.handleFilterChange(t.key,a.target.value)}},r("option",{value:""},"Any"),t.options.map((function(a){var i;return r("option",{key:a.value,value:a.value,selected:((i=e.internalFilters[t.key])!==null&&i!==void 0?i:"")===a.value},a.label)}))))}))))};t.prototype.renderPagination=function(t){var e=this;if(!this.pagination)return null;var a=this.pagination,i=a.pageIndex,n=a.pageSize;var s=i*n+1;var l=Math.min(t,s+n-1);var o=t;return r("div",{part:"pagination",class:"pagination"},r("div",{class:"pagination-meta"},s,"-",l," of ",o),r("div",{class:"pagination-actions"},r("button",{part:"page-prev",class:"button",onClick:function(){return e.changePage(-1)},disabled:i===0},"Prev"),r("button",{part:"page-next",class:"button",onClick:function(){return e.changePage(1)},disabled:l>=o},"Next")))};t.prototype.render=function(){var t=this;var e=this.pagedRows;var a=this.filteredRows.length;return r("div",{key:"5f9d0d30f2cbd5007c052ba97637e57fbd715ca4",part:"root",class:"root","data-loading":this.loading?"true":"false"},this.caption&&r("div",{key:"5413ecf36d3389a90b6af9f5d14629cdfe3dc5b7",part:"caption",class:"caption"},this.caption),this.renderToolbar(e),r("div",{key:"c523247fa0dddc76803e61c47a29268cf5977829",class:"table-wrapper"},r("table",{key:"a30134070a11c8ed8c5531ddadf4a29275f3e02d",part:"table",class:"table"},r("thead",{key:"4129a33bf6b06d313fb00eee249508fa18cabba9",part:"head",class:"head"},r("tr",{key:"efff0838016e5b7c338ffb5fbe18b985c744fe23"},this.selectable&&r("th",{key:"2f016616a203bf43e78eb8234ed0cfe13e17bb50",class:"selection-col"}),this.columns.map((function(e){var a;var i,n,s;var l=((i=t.internalSort)===null||i===void 0?void 0:i.key)===e.key;var o=(n=t.internalSort)===null||n===void 0?void 0:n.direction;return r("th",{part:"header",key:e.key,style:e.width?{width:e.width}:undefined,class:(a={header:true,sortable:!!e.sortable},a["align-".concat((s=e.align)!==null&&s!==void 0?s:"left")]=true,a.sorted=l,a),onClick:function(){return t.handleSort(e)}},r("div",{class:"header-content"},r("slot",{name:"header-".concat(e.key)},e.header),e.sortable&&r("span",{class:"sort-indicator","aria-hidden":"true"},l?o==="asc"?"▲":"▼":"↕")))})),r("th",{key:"0c195c876c523d79737c3ab82c55863d63b24c90",class:"actions-col"},r("slot",{key:"8c1e050b31a22f653c790aa692c162bd2f0b869f",name:"actions-header"})))),r("tbody",{key:"a82541aba852afef1f98b59280f01f076a39430c",part:"body",class:"body"},this.loading?r("tr",null,r("td",{class:"empty",colSpan:this.columns.length+(this.selectable?1:0)+1},r("slot",{name:"loading"},"Loading…"))):e.length===0?r("tr",null,r("td",{class:"empty",colSpan:this.columns.length+(this.selectable?1:0)+1},r("slot",{name:"empty"},this.emptyText))):e.map((function(e,a){var i=t.getRowId(e,a);var n=t.internalSelection[i];return r("tr",{part:"row",key:i,class:{row:true,selected:n},onClick:function(){return t.rowClick.emit({row:e})}},t.selectable&&r("td",{class:"selection-col cell"},r("label",{class:"checkbox"},r("input",{type:"checkbox",checked:!!n,onClick:function(t){return t.stopPropagation()},onChange:function(){return t.toggleRowSelection(i)},"aria-label":"Select row"}))),t.columns.map((function(t){var a;var i,n;return r("td",{part:"cell",key:t.key,class:(a={cell:true},a["align-".concat((i=t.align)!==null&&i!==void 0?i:"left")]=true,a)},r("slot",{name:"cell-".concat(t.key)},t.render?t.render(e):(n=e[t.key])!==null&&n!==void 0?n:"—"))})),r("td",{class:"actions-col cell"},r("slot",{name:"row-actions","row-id":i})))}))))),this.renderPagination(a))};return t}());n.style=i()}}}));