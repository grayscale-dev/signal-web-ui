import{p as e,H as s,c as t,h as a,t as i}from"./index.js";const l=e(class extends s{constructor(e){super(),!1!==e&&this.__registerHost(),this.__attachShadow(),this.navigate=t(this,"navigate"),this.toggle=t(this,"toggle"),this.items=[],this.collapsible=!1,this.defaultCollapsed=!1,this.searchable=!1,this.heading="Navigation",this.collapsed=!1,this.query=""}componentWillLoad(){this.collapsed=!!this.collapsible&&this.defaultCollapsed}onDefaultCollapsed(e){this.collapsible&&(this.collapsed=e)}setCollapsed(e){this.collapsible&&(this.collapsed=e,this.toggle.emit({collapsed:e}))}filtered(e){if(!this.query)return e;const s=this.query.toLowerCase(),t=e=>e.map((e=>{const a=e.children?t(e.children):[];if(e.label.toLowerCase().includes(s)||a.length>0){const s={...e};return a.length&&(s.children=a),s}return null})).filter((e=>null!==e));return t(e)}renderTree(e,s=0){return e.map((e=>a("div",{class:"item",key:e.id},a("button",{type:"button",class:{"item-btn":!0,active:e.id===this.activeItem,disabled:!!e.disabled},style:{paddingLeft:this.collapsed?void 0:12*s+12+"px"},disabled:e.disabled,onClick:()=>this.navigate.emit({id:e.id})},!this.collapsed&&a("span",{class:"label"},e.label),!this.collapsed&&e.badge&&a("span",{class:"badge"},e.badge)),e.children&&e.children.length>0&&!this.collapsed?a("div",{class:"children"},this.renderTree(e.children,s+1)):null)))}render(){const e=this.filtered(this.items);return a("aside",{key:"a74cac4082cdd6eea4b4557806cf778fbc0d49a5",part:"root",class:{root:!0,collapsed:this.collapsed}},this.collapsible&&a("div",{key:"1ea948634ca663bd459546d1827b8adb1e429ef7",part:"header",class:"header"},a("span",{key:"9bd87279faba01f16dc82a1f2a99a067fa413c9f",class:{title:!0,hidden:this.collapsed}},this.heading),a("button",{key:"421d0c2bb40693146f39e140857622f8991b0c6f",part:"collapse",class:"collapse",onClick:()=>this.setCollapsed(!this.collapsed),"aria-label":this.collapsed?"Expand sidebar":"Collapse sidebar"},this.collapsed?"»":"«")),this.searchable&&!this.collapsed&&a("div",{key:"f6186d059fdb650f51fe1aa56199ae7bfc1ebf55",class:"search"},a("input",{key:"b3d7d2ece78066ca8a189411562749ed8ef1b418",part:"search",class:"search-input",type:"search",placeholder:"Search…",value:this.query,onInput:e=>this.query=e.target.value})),a("div",{key:"9c4996dcd5ebdedd65f0e6cd53ebf8b5b1e9c128",class:"nav"},e.length>0?this.renderTree(e):a("slot",null)),a("div",{key:"1d2bb71157ade928f13751e114fa87c9b9f94cf0",part:"footer",class:"footer"},a("slot",{key:"96f5b00a31710dc1543e1933d0abbd42f389770e",name:"footer"})))}static get watchers(){return{defaultCollapsed:[{onDefaultCollapsed:0}]}}static get style(){return":host{display:none}:host([collapsible]){display:block}.root{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;width:280px;border-right:1px solid var(--signal-border, #e5e7eb);background:var(--signal-surface, #ffffff);min-height:100%}.root.collapsed{width:60px}.header{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:justify;justify-content:space-between;padding:12px;border-bottom:1px solid var(--signal-border, #e5e7eb)}.title{font-size:0.8rem;font-weight:700;color:var(--signal-subtle, #6b7280);text-transform:uppercase;letter-spacing:0.06em}.title.hidden{display:none}.collapse{border:1px solid var(--signal-border, #e5e7eb);background:#fff;padding:4px 8px;border-radius:6px;cursor:pointer;color:var(--signal-subtle, #6b7280)}.search{padding:10px 12px;border-bottom:1px solid var(--signal-border, #e5e7eb)}.search-input{width:100%;padding:8px 10px;border-radius:8px;border:1px solid var(--signal-border, #e5e7eb);background:var(--signal-muted, #f3f4f6)}.nav{padding:10px 8px 12px;display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;gap:4px;-ms-flex:1;flex:1;overflow:auto}.item-btn{width:100%;display:-ms-inline-flexbox;display:inline-flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:justify;justify-content:space-between;gap:8px;padding:8px 10px;border-radius:8px;border:1px solid transparent;background:transparent;color:var(--signal-subtle, #6b7280);cursor:pointer;-webkit-transition:background-color 120ms ease, color 120ms ease, border-color 120ms ease;transition:background-color 120ms ease, color 120ms ease, border-color 120ms ease}.item-btn:hover:not(.active):not(.disabled){background:var(--signal-muted, #f3f4f6);color:var(--signal-text, #111827)}.item-btn.active{background:var(--signal-muted, #f3f4f6);color:var(--signal-text, #111827);border-color:var(--signal-border, #e5e7eb);font-weight:600}.item-btn.disabled{opacity:0.5;cursor:not-allowed}.badge{background:var(--signal-muted, #f3f4f6);border-radius:999px;padding:2px 6px;font-size:11px;color:var(--signal-text, #111827)}.children{margin-left:6px}.footer{border-top:1px solid var(--signal-border, #e5e7eb);padding:10px 12px}"}},[257,"signal-sidebar",{items:[16],activeItem:[1,"active-item"],collapsible:[516],defaultCollapsed:[516,"default-collapsed"],searchable:[516],heading:[1,"title"],collapsed:[32],query:[32]},void 0,{defaultCollapsed:[{onDefaultCollapsed:0}]}]),r=l,o=function(){"undefined"!=typeof customElements&&["signal-sidebar"].forEach((e=>{"signal-sidebar"===e&&(customElements.get(i(e))||customElements.define(i(e),l))}))};export{r as SignalSidebar,o as defineCustomElement}