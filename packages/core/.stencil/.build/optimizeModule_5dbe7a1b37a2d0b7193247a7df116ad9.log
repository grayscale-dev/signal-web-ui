import{p as t,H as s,c as i,h as e,t as o}from"./index.js";const n=t(class extends s{constructor(t){super(),!1!==t&&this.__registerHost(),this.__attachShadow(),this.sizesChange=i(this,"sizesChange"),this.orientation="horizontal",this.panes=[],this.minSizes=[],this.defaultSizes=[],this.collapsible=!1,this.sizes=[]}componentWillLoad(){this.sizes=this.defaultSizes.length===this.panes.length?[...this.defaultSizes]:this.panes.map((()=>100/(this.panes.length||1)))}startDrag(t,s){s.preventDefault?.();const i="horizontal"===this.orientation?s.clientX:s.clientY,e=[...this.sizes],o=s=>{const o=("horizontal"===this.orientation?s.clientX:s.clientY)-i,n=this.host.shadowRoot?.querySelector(".split"),r=o/("horizontal"===this.orientation?n.clientWidth:n.clientHeight)*100,h=[...e];h[t]=Math.max(this.minSizes[t]??5,e[t]+r),h[t+1]=Math.max(this.minSizes[t+1]??5,e[t+1]-r);const a=h.reduce(((t,s)=>t+s),0);this.sizes=h.map((t=>t/a*100)),this.sizesChange.emit({sizes:this.sizes})},n=()=>{window.removeEventListener("mousemove",o),window.removeEventListener("mouseup",n)};window.addEventListener("mousemove",o),window.addEventListener("mouseup",n)}get host(){return this.el}render(){const t=this.sizes.map((t=>t+"%")).join(" ");return e("div",{key:"fab91f1fd99ff16decc7b358f0c2464fda95dd4a",part:"root",class:{split:!0,["orient-"+this.orientation]:!0},style:{gridTemplateColumns:"horizontal"===this.orientation?t:void 0,gridTemplateRows:"vertical"===this.orientation?t:void 0}},this.panes.map((t=>e("div",{part:"pane",class:{pane:!0,locked:!!t.locked},key:t.id},e("slot",{name:t.id})))),this.panes.slice(0,-1).map((t=>e("button",{part:"handle",key:t.id+"-handle",class:{handle:!0,["orient-"+this.orientation]:!0,locked:!!t.locked},onMouseDown:s=>this.startDrag(this.panes.findIndex((s=>s.id===t.id)),s),tabIndex:0,onKeyDown:s=>{const i="ArrowLeft"===s.key||"ArrowUp"===s.key?-2:"ArrowRight"===s.key||"ArrowDown"===s.key?2:0;if(0===i)return;s.preventDefault();const e=this.panes.findIndex((s=>s.id===t.id)),o=[...this.sizes];o[e]=Math.max(this.minSizes[e]??5,o[e]+i),o[e+1]=Math.max(this.minSizes[e+1]??5,o[e+1]-i);const n=o.reduce(((t,s)=>t+s),0);this.sizes=o.map((t=>t/n*100)),this.sizesChange.emit({sizes:this.sizes})}},e("div",{class:"handle-grip"})))))}static get style(){return":host{display:block}.split{display:grid;width:100%;height:100%;border:1px solid var(--signal-border, #e5e7eb);border-radius:12px;overflow:hidden;background:var(--signal-surface, #ffffff)}.pane{min-width:0;min-height:0}.handle{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;background:var(--signal-border, #e5e7eb);cursor:col-resize}.handle.orient-vertical{cursor:row-resize}.handle-grip{background:var(--signal-subtle, #6b7280);border-radius:999px;width:6px;height:32px}.handle.orient-vertical .handle-grip{width:32px;height:6px}"}},[257,"signal-split-view",{orientation:[1],panes:[16],minSizes:[16],defaultSizes:[16],collapsible:[4],sizes:[32]}]),r=n,h=function(){"undefined"!=typeof customElements&&["signal-split-view"].forEach((t=>{"signal-split-view"===t&&(customElements.get(o(t))||customElements.define(o(t),n))}))};export{r as SignalSplitView,h as defineCustomElement}