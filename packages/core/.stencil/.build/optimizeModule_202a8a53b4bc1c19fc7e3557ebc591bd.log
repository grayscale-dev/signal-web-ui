import{p as e,H as s,c as i,h as a,t}from"./index.js";let r=0;const l=e(class extends s{constructor(e){super(),!1!==e&&this.__registerHost(),this.__attachShadow(),this.fileSelect=i(this,"fileSelect"),this.upload=i(this,"upload"),this.remove=i(this,"remove"),this.multiple=!1,this.disabled=!1,this.dragging=!1,this.inputId="signal-file-upload-input-"+r++,this.handleFiles=e=>{if(!e)return;let s=Array.from(e);this.maxSize&&(s=s.filter((e=>e.size<=this.maxSize))),this.maxFiles&&(s=s.slice(0,this.maxFiles)),this.fileSelect.emit({files:s}),this.upload.emit({files:s})},this.handleDragOver=e=>{e.preventDefault(),this.dragging=!0},this.handleDragLeave=()=>{this.dragging=!1},this.handleDrop=e=>{e.preventDefault(),this.dragging=!1,this.handleFiles(e.dataTransfer?.files??null)},this.handleRemove=e=>{const s=(this.value??[]).find((s=>s.name===e));s&&this.remove.emit({file:s})}}get labelText(){return this.maxSize?`Max file size ${(this.maxSize/1024/1024).toFixed(1)} MB`:"Drop files here or browse"}get previewItems(){return this.previews&&this.previews.length>0?this.previews:(this.value??[]).map((e=>({name:e.name,size:e.size})))}render(){const e=this.previewItems;return a("div",{key:"59fe50e43740f05191aced47298b8c7131875747",part:"root",class:"root"},a("label",{key:"8128aab62eeeddfc34aedeabaae2d679b99af4a4",part:"dropzone",class:{dropzone:!0,dragging:this.dragging,disabled:this.disabled},"aria-label":this.labelText,htmlFor:this.inputId,onDragOver:this.handleDragOver,onDragLeave:this.handleDragLeave,onDrop:this.handleDrop},a("slot",{key:"c3e1bfb5d30e47986cc7d476d8f28f0ccb7a6387"},a("div",{key:"112ec00eb5268132918d70fe17f2dbe74b1739c2",part:"title",class:"title"},"Drop files here or browse"),a("div",{key:"054058b6a7f8c249acd8b61d4dc753b1b63e9f75",part:"hint",class:"hint"},this.labelText)),a("input",{key:"c7a2e9056e43d7f6e2382e24bed8a712a7a6dac0",part:"input",class:"input",type:"file",id:this.inputId,accept:this.accept,multiple:this.multiple,disabled:this.disabled,onChange:e=>this.handleFiles(e.target.files)})),void 0!==this.progress&&a("div",{key:"bfb03ffe14bbc7dee0df81522f533d73c84bea79",part:"progress",class:"progress"},a("div",{key:"18e39ee6c53b894ce7cf3daeb8eaadfa20f3a63c",part:"progress-bar",class:"progress-bar",style:{width:this.progress+"%"}}),a("span",{key:"b2b2aff8d7bf52239a7e590965fa7fe84ce24c71",part:"progress-label",class:"progress-label"},this.progress,"%")),e.length>0&&a("div",{key:"ff5d0140422ee9ee794ed0e1db3cd40de1a6c022",part:"list",class:"list"},e.map((e=>a("div",{part:"item",class:"item",key:e.name},a("div",{class:"item-meta"},a("div",{part:"item-name",class:"item-name"},e.name),void 0!==e.size&&a("div",{part:"item-size",class:"item-size"},(e.size/1024/1024).toFixed(2)," MB")),this.value&&this.value.length>0&&a("button",{part:"item-remove",class:"item-remove",type:"button",onClick:()=>this.handleRemove(e.name)},"Remove"))))))}get host(){return this}static get style(){return":host{display:block;font-family:var(--signal-font-sans)}.root{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;gap:var(--signal-space-3)}.dropzone{display:-ms-flexbox;display:flex;min-height:120px;cursor:pointer;-ms-flex-direction:column;flex-direction:column;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;gap:var(--signal-space-2);border-radius:var(--signal-radius-md);border:1px dashed var(--signal-color-border);background:var(--signal-color-muted);padding:var(--signal-space-5) var(--signal-space-4);text-align:center;color:var(--signal-color-subtle);-webkit-transition:border-color 0.15s ease, background 0.15s ease;transition:border-color 0.15s ease, background 0.15s ease}.dropzone.dragging{border-color:var(--signal-color-accent);background:color-mix(in oklab, var(--signal-color-accent) 12%, var(--signal-color-muted))}.dropzone.disabled{pointer-events:none;opacity:0.6}.title{font-size:14px;font-weight:600;color:var(--signal-color-text)}.hint{font-size:12px}.input{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0, 0, 0, 0);border:0}.progress{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;gap:var(--signal-space-2);font-size:12px;color:var(--signal-color-subtle)}.progress-bar{height:6px;-ms-flex:1;flex:1;border-radius:var(--signal-radius-full);background:var(--signal-color-accent)}.list{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;gap:var(--signal-space-2)}.item{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:justify;justify-content:space-between;gap:var(--signal-space-3);border-radius:var(--signal-radius-md);border:1px solid var(--signal-color-border);background:var(--signal-color-surface);padding:var(--signal-space-2) var(--signal-space-3);font-size:13px}.item-meta{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;gap:2px}.item-name{font-weight:600;color:var(--signal-color-text)}.item-size{font-size:12px;color:var(--signal-color-subtle)}.item-remove{border:none;background:transparent;color:var(--signal-color-subtle);font-size:12px;cursor:pointer}.item-remove:hover{color:var(--signal-color-text)}"}},[257,"signal-file-upload",{accept:[1],multiple:[4],maxSize:[2,"max-size"],maxFiles:[2,"max-files"],value:[16],previews:[16],progress:[2],disabled:[516],dragging:[32]}]),o=l,n=function(){"undefined"!=typeof customElements&&["signal-file-upload"].forEach((e=>{"signal-file-upload"===e&&(customElements.get(t(e))||customElements.define(t(e),l))}))};export{o as SignalFileUpload,n as defineCustomElement}