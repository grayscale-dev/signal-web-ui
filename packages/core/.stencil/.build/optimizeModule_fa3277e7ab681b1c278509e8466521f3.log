var __assign=this&&this.__assign||function(){__assign=Object.assign||function(e){for(var t,a=1,r=arguments.length;a<r;a++){t=arguments[a];for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i))e[i]=t[i]}return e};return __assign.apply(this,arguments)};var __spreadArray=this&&this.__spreadArray||function(e,t,a){if(a||arguments.length===2)for(var r=0,i=t.length,n;r<i;r++){if(n||!(r in t)){if(!n)n=Array.prototype.slice.call(t,0,r);n[r]=t[r]}}return e.concat(n||Array.prototype.slice.call(t))};System.register(["./p-B6pPcgIe.system.js"],(function(e){"use strict";var t,a,r;return{setters:[function(e){t=e.r;a=e.c;r=e.h}],execute:function(){var i=function(){return':host{--signal-table-border:var(--signal-border, #e5e7eb);--signal-table-surface:var(--signal-surface, #ffffff);--signal-table-muted:var(--signal-muted, #f3f4f6);--signal-table-text:var(--signal-text, #111827);--signal-table-subtle:var(--signal-subtle, #6b7280);--signal-table-radius:12px;--signal-table-shadow:0 8px 20px rgba(17, 24, 39, 0.06);--signal-accent:var(--signal-accent, #2563eb)}.root{border:1px solid var(--signal-table-border);border-radius:var(--signal-table-radius);background:var(--signal-table-surface);-webkit-box-shadow:var(--signal-table-shadow);box-shadow:var(--signal-table-shadow);overflow:hidden}.caption{padding:12px 16px;font-size:0.95rem;font-weight:600;color:var(--signal-table-text)}.toolbar{display:-ms-flexbox;display:flex;-ms-flex-wrap:wrap;flex-wrap:wrap;-ms-flex-align:center;align-items:center;gap:12px;padding:12px 16px;border-bottom:1px solid var(--signal-table-border);background:var(--signal-table-muted)}.search{-ms-flex:1 1 220px;flex:1 1 220px;min-width:180px;padding:8px 10px;border:1px solid var(--signal-table-border);border-radius:8px;background:#fff}.filters{display:-ms-flexbox;display:flex;gap:12px;-ms-flex-wrap:wrap;flex-wrap:wrap}.filter{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;gap:6px}.filter-label{font-size:0.85rem;color:var(--signal-table-subtle)}.filter-select{padding:6px 8px;border:1px solid var(--signal-table-border);border-radius:8px;background:#fff}.table-wrapper{overflow:auto}.table{width:100%;border-collapse:collapse;text-align:left;color:var(--signal-table-text);font-size:0.9375rem}.head th{background:var(--signal-table-muted);color:var(--signal-table-subtle);font-weight:600;letter-spacing:0.04em;text-transform:uppercase;padding:12px 16px;border-bottom:1px solid var(--signal-table-border);-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.header-content{display:-ms-inline-flexbox;display:inline-flex;-ms-flex-align:center;align-items:center;gap:6px}.sortable{cursor:pointer}.sort-indicator{font-size:0.75rem;color:var(--signal-table-subtle)}.body .row{border-top:1px solid var(--signal-table-border);-webkit-transition:background-color 120ms ease;transition:background-color 120ms ease}.body .row:hover{background:var(--signal-table-muted);cursor:pointer}.cell{padding:12px 16px;vertical-align:middle;color:var(--signal-table-text)}.align-center{text-align:center}.align-right{text-align:right}.selection-col{width:44px;text-align:center}.actions-col{width:60px;text-align:right}.checkbox{display:-ms-inline-flexbox;display:inline-flex;-ms-flex-align:center;align-items:center;gap:6px;font-size:0.9rem;color:var(--signal-table-text)}.empty{text-align:center;color:var(--signal-table-subtle);padding:18px 16px}.pagination{display:-ms-flexbox;display:flex;-ms-flex-pack:justify;justify-content:space-between;-ms-flex-align:center;align-items:center;padding:12px 16px;border-top:1px solid var(--signal-table-border);background:var(--signal-table-muted)}.pagination-meta{color:var(--signal-table-subtle);font-size:0.9rem}.pagination-actions{display:-ms-flexbox;display:flex;gap:8px}.button{padding:8px 12px;border:1px solid var(--signal-table-border);border-radius:8px;background:#fff;cursor:pointer}.button:disabled{opacity:0.5;cursor:not-allowed}.row.selected{background:rgba(37, 99, 235, 0.06)}[data-loading="true"]{opacity:0.7;pointer-events:none}'};var n=e("signal_feature_table",function(){function e(e){var r=this;t(this,e);this.rowClick=a(this,"rowClick");this.selectionChanged=a(this,"selectionChanged");this.sortChange=a(this,"sortChange");this.filterChange=a(this,"filterChange");this.searchChange=a(this,"searchChange");this.pageChange=a(this,"pageChange");this.columns=[];this.rows=[];this.searchable=false;this.filterable=false;this.selectable=false;this.selectedKeys=[];this.emptyText="No results";this.filters=[];this.loading=false;this.searchQuery="";this.internalFilters={};this.internalSelection={};this.handleSearch=function(e){var t=e.target.value;r.searchQuery=t;r.searchChange.emit({query:t})};this.handleFilterChange=function(e,t){var a;r.internalFilters=__assign(__assign({},r.internalFilters),(a={},a[e]=t,a));r.filterChange.emit({filters:r.internalFilters})}}e.prototype.componentWillLoad=function(){this.internalFilters=this.filters.reduce((function(e,t){if(t.value)e[t.key]=t.value;return e}),{});this.internalSelection=this.selectedKeys.reduce((function(e,t){e[t]=true;return e}),{})};e.prototype.getRowId=function(e,t){if(typeof this.rowKey==="function")return this.rowKey(e);if(typeof this.rowKey==="string"&&e[this.rowKey]!=null)return String(e[this.rowKey]);return String(t)};e.prototype.handleSort=function(e){if(!e.sortable)return;var t=this.internalSort&&this.internalSort.key===e.key?this.internalSort.direction==="asc"?{key:e.key,direction:"desc"}:undefined:{key:e.key,direction:"asc"};this.internalSort=t;this.sortChange.emit({sort:t})};e.prototype.toggleRowSelection=function(e){var t=__assign({},this.internalSelection);t[e]=!t[e];this.internalSelection=t;var a=Object.keys(t).filter((function(e){return t[e]}));this.selectionChanged.emit({keys:a})};e.prototype.toggleAllSelection=function(e){var t=this;var a=e.every((function(e,a){return t.internalSelection[t.getRowId(e,a)]}));var r={};if(!a){e.forEach((function(e,a){r[t.getRowId(e,a)]=true}))}this.internalSelection=r;var i=Object.keys(r).filter((function(e){return r[e]}));this.selectionChanged.emit({keys:i})};e.prototype.changePage=function(e){if(!this.pagination)return;var t=Math.max(0,this.pagination.pageIndex+e);this.pageChange.emit({pageIndex:t,pageSize:this.pagination.pageSize})};Object.defineProperty(e.prototype,"filteredRows",{get:function(){var e=this;var t=__spreadArray([],this.rows,true);if(this.searchable&&this.searchQuery){var a=this.searchQuery.toLowerCase();t=t.filter((function(t){return e.columns.some((function(e){var r;return String((r=t[e.key])!==null&&r!==void 0?r:"").toLowerCase().includes(a)}))}))}if(this.filterable){t=t.filter((function(t){return Object.entries(e.internalFilters).every((function(e){var a;var r=e[0],i=e[1];if(!i)return true;return String((a=t[r])!==null&&a!==void 0?a:"")===i}))}))}if(this.internalSort){var r=this.internalSort,i=r.key,n=r.direction;t=__spreadArray([],t,true).sort((function(e,t){var a=e[i];var r=t[i];if(a==null&&r==null)return 0;if(a==null)return 1;if(r==null)return-1;if(a===r)return 0;return n==="asc"?a>r?1:-1:a<r?1:-1}))}return t},enumerable:false,configurable:true});Object.defineProperty(e.prototype,"pagedRows",{get:function(){if(!this.pagination)return this.filteredRows;var e=this.pagination.pageIndex*this.pagination.pageSize;var t=e+this.pagination.pageSize;return this.filteredRows.slice(e,t)},enumerable:false,configurable:true});e.prototype.renderToolbar=function(e){var t=this;if(!this.searchable&&!this.filterable&&!this.selectable)return null;return r("div",{part:"toolbar",class:"toolbar"},this.selectable&&r("label",{class:"checkbox"},r("input",{type:"checkbox",checked:e.length>0&&e.every((function(e,a){return t.internalSelection[t.getRowId(e,a)]})),onChange:function(){return t.toggleAllSelection(e)}}),r("span",null,"Select all")),this.searchable&&r("input",{part:"search",class:"search",type:"search",placeholder:"Search…",value:this.searchQuery,onInput:this.handleSearch}),this.filterable&&r("div",{class:"filters"},this.filters.map((function(e){return r("label",{class:"filter",key:e.key},r("span",{class:"filter-label"},e.label),r("select",{class:"filter-select",onInput:function(a){return t.handleFilterChange(e.key,a.target.value)}},r("option",{value:""},"Any"),e.options.map((function(a){var i;return r("option",{key:a.value,value:a.value,selected:((i=t.internalFilters[e.key])!==null&&i!==void 0?i:"")===a.value},a.label)}))))}))))};e.prototype.renderPagination=function(e){var t=this;if(!this.pagination)return null;var a=this.pagination,i=a.pageIndex,n=a.pageSize;var s=i*n+1;var l=Math.min(e,s+n-1);var o=e;return r("div",{part:"pagination",class:"pagination"},r("div",{class:"pagination-meta"},s,"-",l," of ",o),r("div",{class:"pagination-actions"},r("button",{part:"page-prev",class:"button",onClick:function(){return t.changePage(-1)},disabled:i===0},"Prev"),r("button",{part:"page-next",class:"button",onClick:function(){return t.changePage(1)},disabled:l>=o},"Next")))};e.prototype.render=function(){var e=this;var t=this.pagedRows;var a=this.filteredRows.length;return r("div",{key:"abf78e1f434c8c8aa17647d8b0685089234fe809",part:"root",class:"root","data-loading":this.loading?"true":"false"},this.caption&&r("div",{key:"5ab01c9325b7ae618ecfe1d3911f971be06f706f",part:"caption",class:"caption"},this.caption),this.renderToolbar(t),r("div",{key:"be417d251aa52ee896928c362922ca2e4e50bf63",class:"table-wrapper"},r("table",{key:"7f97714d408e8c15a44c2447fb637f76a8c4c106",part:"table",class:"table"},r("thead",{key:"16536d74d4eaa06f9164bae6ae4865c5669b2f02",part:"head",class:"head"},r("tr",{key:"9e184c34939ffb37b8d3620dbc0f768acbe27e03"},this.selectable&&r("th",{key:"e0921c339ffbdc7423a6b40877c0bba40eb3995b",class:"selection-col"}),this.columns.map((function(t){var a;var i,n,s;var l=((i=e.internalSort)===null||i===void 0?void 0:i.key)===t.key;var o=(n=e.internalSort)===null||n===void 0?void 0:n.direction;return r("th",{part:"header",key:t.key,style:t.width?{width:t.width}:undefined,class:(a={header:true,sortable:!!t.sortable},a["align-".concat((s=t.align)!==null&&s!==void 0?s:"left")]=true,a.sorted=l,a),onClick:function(){return e.handleSort(t)}},r("div",{class:"header-content"},r("slot",{name:"header-".concat(t.key)},t.header),t.sortable&&r("span",{class:"sort-indicator","aria-hidden":"true"},l?o==="asc"?"▲":"▼":"↕")))})),r("th",{key:"e44c78e0349197067df90fd3c2431e26f0908746",class:"actions-col"},r("slot",{key:"4afd7e5d958bb99305aef23fe6b4ce008d51fddd",name:"actions-header"})))),r("tbody",{key:"e73c3d70cae6103e4ab82ee273e3e59c6c78c328",part:"body",class:"body"},this.loading?r("tr",null,r("td",{class:"empty",colSpan:this.columns.length+(this.selectable?1:0)+1},r("slot",{name:"loading"},"Loading…"))):t.length===0?r("tr",null,r("td",{class:"empty",colSpan:this.columns.length+(this.selectable?1:0)+1},r("slot",{name:"empty"},this.emptyText))):t.map((function(t,a){var i=e.getRowId(t,a);var n=e.internalSelection[i];return r("tr",{part:"row",key:i,class:{row:true,selected:n},onClick:function(){return e.rowClick.emit({row:t})}},e.selectable&&r("td",{class:"selection-col cell"},r("label",{class:"checkbox"},r("input",{type:"checkbox",checked:!!n,onClick:function(e){return e.stopPropagation()},onChange:function(){return e.toggleRowSelection(i)},"aria-label":"Select row"}))),e.columns.map((function(e){var a;var i,n;return r("td",{part:"cell",key:e.key,class:(a={cell:true},a["align-".concat((i=e.align)!==null&&i!==void 0?i:"left")]=true,a)},r("slot",{name:"cell-".concat(e.key)},e.render?e.render(t):(n=t[e.key])!==null&&n!==void 0?n:"—"))})),r("td",{class:"actions-col cell"},r("slot",{name:"row-actions","row-id":i})))}))))),this.renderPagination(a))};return e}());n.style=i()}}}));