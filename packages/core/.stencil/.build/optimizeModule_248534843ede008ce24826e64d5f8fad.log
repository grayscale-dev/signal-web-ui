import{r as registerInstance,c as createEvent,h,a as getElement}from"./index-DS32Solz.js";var uiFileUploadCss=function(){return":host{display:block;font-family:var(--signal-font-sans)}.root{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;gap:var(--signal-space-3)}.dropzone{display:-ms-flexbox;display:flex;min-height:120px;cursor:pointer;-ms-flex-direction:column;flex-direction:column;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;gap:var(--signal-space-2);border-radius:var(--signal-radius-md);border:1px dashed var(--signal-color-border);background:var(--signal-color-muted);padding:var(--signal-space-5) var(--signal-space-4);text-align:center;color:var(--signal-color-subtle);-webkit-transition:border-color 0.15s ease, background 0.15s ease;transition:border-color 0.15s ease, background 0.15s ease}.dropzone.dragging{border-color:var(--signal-color-accent);background:color-mix(in oklab, var(--signal-color-accent) 12%, var(--signal-color-muted))}.dropzone.disabled{pointer-events:none;opacity:0.6}.title{font-size:14px;font-weight:600;color:var(--signal-color-text)}.hint{font-size:12px}.input{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0, 0, 0, 0);border:0}.progress{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;gap:var(--signal-space-2);font-size:12px;color:var(--signal-color-subtle)}.progress-bar{height:6px;-ms-flex:1;flex:1;border-radius:var(--signal-radius-full);background:var(--signal-color-accent)}.list{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;gap:var(--signal-space-2)}.item{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:justify;justify-content:space-between;gap:var(--signal-space-3);border-radius:var(--signal-radius-md);border:1px solid var(--signal-color-border);background:var(--signal-color-surface);padding:var(--signal-space-2) var(--signal-space-3);font-size:13px}.item-meta{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;gap:2px}.item-name{font-weight:600;color:var(--signal-color-text)}.item-size{font-size:12px;color:var(--signal-color-subtle)}.item-remove{border:none;background:transparent;color:var(--signal-color-subtle);font-size:12px;cursor:pointer}.item-remove:hover{color:var(--signal-color-text)}"};var fileUploadId=0;var SignalFileUpload=function(){function e(e){var i=this;registerInstance(this,e);this.fileSelect=createEvent(this,"fileSelect");this.upload=createEvent(this,"upload");this.remove=createEvent(this,"remove");this.multiple=false;this.disabled=false;this.dragging=false;this.inputId="signal-file-upload-input-".concat(fileUploadId++);this.handleFiles=function(e){if(!e)return;var a=Array.from(e);if(i.maxSize){a=a.filter((function(e){return e.size<=i.maxSize}))}if(i.maxFiles){a=a.slice(0,i.maxFiles)}i.fileSelect.emit({files:a});i.upload.emit({files:a})};this.handleDragOver=function(e){e.preventDefault();i.dragging=true};this.handleDragLeave=function(){i.dragging=false};this.handleDrop=function(e){var a,r;e.preventDefault();i.dragging=false;i.handleFiles((r=(a=e.dataTransfer)===null||a===void 0?void 0:a.files)!==null&&r!==void 0?r:null)};this.handleRemove=function(e){var a;var r=(a=i.value)!==null&&a!==void 0?a:[];var t=r.find((function(i){return i.name===e}));if(t)i.remove.emit({file:t})}}Object.defineProperty(e.prototype,"labelText",{get:function(){if(this.maxSize){return"Max file size ".concat((this.maxSize/1024/1024).toFixed(1)," MB")}return"Drop files here or browse"},enumerable:false,configurable:true});Object.defineProperty(e.prototype,"previewItems",{get:function(){var e;if(this.previews&&this.previews.length>0)return this.previews;var i=(e=this.value)!==null&&e!==void 0?e:[];return i.map((function(e){return{name:e.name,size:e.size}}))},enumerable:false,configurable:true});e.prototype.render=function(){var e=this;var i=this.previewItems;return h("div",{key:"747e4e00a1a315361e39046f8941ffd437e81c4f",part:"root",class:"root"},h("label",{key:"1def6868d7a5f8daee1acf299b38d5714f6a81bf",part:"dropzone",class:{dropzone:true,dragging:this.dragging,disabled:this.disabled},"aria-label":this.labelText,htmlFor:this.inputId,onDragOver:this.handleDragOver,onDragLeave:this.handleDragLeave,onDrop:this.handleDrop},h("slot",{key:"b2e23687dfd897c1494263717571c923d3a05b49"},h("div",{key:"fbd2bcecd98f24c9584e3619e0750985b1066cb2",part:"title",class:"title"},"Drop files here or browse"),h("div",{key:"25b26804c9a30f69db1f9df61c4fc248afabbf77",part:"hint",class:"hint"},this.labelText)),h("input",{key:"111e29e88be5d38d6fef94ac8b2a78420358f2b8",part:"input",class:"input",type:"file",id:this.inputId,accept:this.accept,multiple:this.multiple,disabled:this.disabled,onChange:function(i){return e.handleFiles(i.target.files)}})),this.progress!==undefined&&h("div",{key:"0976b1ba97261fb22bedf0d604da85cc66b0ad90",part:"progress",class:"progress"},h("div",{key:"8ec40293d55341ecf375170a9aba8b9eeb597036",part:"progress-bar",class:"progress-bar",style:{width:"".concat(this.progress,"%")}}),h("span",{key:"4d13d09b3237993fdc9942cd221d3bbec7448087",part:"progress-label",class:"progress-label"},this.progress,"%")),i.length>0&&h("div",{key:"26de5dda607f628a4a30ce8b7a249d314fa12424",part:"list",class:"list"},i.map((function(i){return h("div",{part:"item",class:"item",key:i.name},h("div",{class:"item-meta"},h("div",{part:"item-name",class:"item-name"},i.name),i.size!==undefined&&h("div",{part:"item-size",class:"item-size"},(i.size/1024/1024).toFixed(2)," MB")),e.value&&e.value.length>0&&h("button",{part:"item-remove",class:"item-remove",type:"button",onClick:function(){return e.handleRemove(i.name)}},"Remove"))}))))};Object.defineProperty(e.prototype,"host",{get:function(){return getElement(this)},enumerable:false,configurable:true});return e}();SignalFileUpload.style=uiFileUploadCss();export{SignalFileUpload as signal_file_upload};