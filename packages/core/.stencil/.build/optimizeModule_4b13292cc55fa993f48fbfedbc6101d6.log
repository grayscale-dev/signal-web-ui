import{r as registerInstance,c as createEvent,h,a as getElement}from"./index-DS32Solz.js";var uiDropdownCss=function(){return":host{display:inline-block;position:relative}.wrapper{position:relative}.trigger{display:-ms-inline-flexbox;display:inline-flex;-ms-flex-align:center;align-items:center;gap:6px;padding:8px 12px;border-radius:var(--signal-radius-sm, 6px);border:1px solid var(--signal-color-border, #d0d7de);background:var(--signal-color-surface, #fff);color:var(--signal-color-text, #111);font:inherit;cursor:pointer;-webkit-box-shadow:var(--signal-shadow-soft, 0 1px 2px rgba(0,0,0,0.08));box-shadow:var(--signal-shadow-soft, 0 1px 2px rgba(0,0,0,0.08))}.trigger:focus-visible{outline:2px solid var(--signal-color-accent, #236cff);outline-offset:2px}.caret{color:var(--signal-color-subtle, #5f6a7d)}.menu{position:absolute;min-width:220px;margin-top:8px;border-radius:var(--signal-radius-sm, 6px);border:1px solid var(--signal-color-border, #d0d7de);background:var(--signal-color-surface, #fff);-webkit-box-shadow:var(--signal-shadow-strong, 0 12px 28px rgba(0,0,0,0.2));box-shadow:var(--signal-shadow-strong, 0 12px 28px rgba(0,0,0,0.2));padding:4px;z-index:10;outline:none}.wrapper.right .menu{right:0}.wrapper.left .menu{left:0}.item{width:100%;text-align:left;border:0;background:transparent;border-radius:4px;padding:8px 10px;display:-ms-flexbox;display:flex;-ms-flex-pack:justify;justify-content:space-between;-ms-flex-align:center;align-items:center;color:var(--signal-color-text, #111);cursor:pointer}.item:hover,.item.focused{background:var(--signal-color-muted, #f2f4f7)}.item.disabled{opacity:0.55;cursor:not-allowed}.item.danger{color:var(--signal-color-danger, #d1242f)}.shortcut{color:var(--signal-color-subtle, #5f6a7d);font-size:12px}"};var SignalDropdown=function(){function t(t){var i=this;registerInstance(this,t);this.openChange=createEvent(this,"openChange");this.select=createEvent(this,"itemSelect");this.open=false;this.items=[];this.label="Menu";this.align="left";this.closeOnSelect=true;this.focusedIndex=-1;this.onOutsideClick=function(t){if(!i.open)return;if(!i.host.contains(t.target)){i.close()}};this.toggle=function(){i.open=!i.open}}t.prototype.handleOpen=function(t){this.openChange.emit({open:t});if(t){this.setInitialFocus()}else{this.focusedIndex=-1}};t.prototype.componentDidLoad=function(){if(this.open)this.setInitialFocus()};t.prototype.setInitialFocus=function(){var t=this.items.findIndex((function(t){return!t.disabled}));this.focusedIndex=t};t.prototype.onKeydown=function(t){if(!this.open)return;if(t.key==="Escape"){this.close();t.stopPropagation()}if(t.key==="ArrowDown"){t.preventDefault();this.focusedIndex=Math.min(this.items.length-1,this.focusedIndex+1)}if(t.key==="ArrowUp"){t.preventDefault();this.focusedIndex=Math.max(0,this.focusedIndex-1)}if(t.key==="Enter"&&this.focusedIndex>=0){var i=this.items[this.focusedIndex];if(i&&!i.disabled){this.emitSelect(i.key)}}};t.prototype.componentDidRender=function(){var t;if(!this.open)return;var i=(t=this.host.shadowRoot)===null||t===void 0?void 0:t.querySelector(".menu");if(i)i.focus()};t.prototype.connectedCallback=function(){document.addEventListener("mousedown",this.onOutsideClick)};t.prototype.disconnectedCallback=function(){document.removeEventListener("mousedown",this.onOutsideClick)};t.prototype.close=function(){this.open=false};t.prototype.emitSelect=function(t){this.select.emit({key:t});if(this.closeOnSelect)this.close()};t.prototype.renderTrigger=function(){return h("button",{type:"button",class:"trigger","aria-haspopup":"menu","aria-expanded":this.open.toString(),onClick:this.toggle},h("slot",{name:"trigger"},this.label),h("span",{class:"caret","aria-hidden":true},"â–¾"))};t.prototype.renderItems=function(){var t=this;return h("div",{class:"menu",role:"menu",tabIndex:-1,"aria-label":this.label},this.items.map((function(i,e){return h("button",{key:i.key,type:"button",role:"menuitem",class:{item:true,focused:t.focusedIndex===e,disabled:!!i.disabled,danger:!!i.danger},disabled:i.disabled,onClick:function(){return!i.disabled&&t.emitSelect(i.key)}},h("span",{class:"label"},i.label),i.shortcut&&h("span",{class:"shortcut"},i.shortcut))})))};t.prototype.render=function(){var t;return h("div",{key:"48ae894aabf6f92343f38081c36ed76110c07ee3",class:(t={wrapper:true,open:this.open},t[this.align]=true,t)},this.renderTrigger(),this.open&&this.renderItems())};Object.defineProperty(t.prototype,"host",{get:function(){return getElement(this)},enumerable:false,configurable:true});Object.defineProperty(t,"watchers",{get:function(){return{open:[{handleOpen:0}]}},enumerable:false,configurable:true});return t}();SignalDropdown.style=uiDropdownCss();export{SignalDropdown as signal_dropdown};